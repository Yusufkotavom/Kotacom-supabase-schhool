---
// PrintingFAQ Component - Comprehensive FAQ section for printing services
import ScrollReveal from './ScrollReveal.astro';

interface FAQItem {
  question: string;
  answer: string;
  category: 'general' | 'pricing' | 'quality' | 'timeline' | 'custom';
}

const faqItems: FAQItem[] = [
  {
    question: "Apa saja jenis layanan percetakan yang tersedia?",
    answer: "Kami menyediakan berbagai layanan percetakan meliputi: cetak banner, spanduk, baliho, kartu nama, brosur, flyer, booklet, undangan, kemasan produk, stiker, label, kaos, topi, merchandise, dan masih banyak lagi. Semua dengan kualitas premium dan harga terjangkau.",
    category: 'general'
  },
  {
    question: "Berapa lama waktu pengerjaan untuk setiap pesanan?",
    answer: "Waktu pengerjaan tergantung kompleksitas dan jumlah pesanan: Express (6-12 jam) untuk pesanan urgent, Standard (1-2 hari) untuk kebanyakan produk, dan Normal (2-5 hari) untuk pesanan besar atau custom design. Kami selalu berkomitmen memberikan informasi waktu pengerjaan yang akurat.",
    category: 'timeline'
  },
  {
    question: "Apakah ada jasa design grafis untuk percetakan?",
    answer: "Ya, kami memiliki tim designer profesional yang siap membantu Anda membuat design yang menarik dan sesuai branding. Mulai dari konsultasi konsep hingga final design siap cetak. Design service kami sudah termasuk dalam paket Silver dan Gold.",
    category: 'general'
  },
  {
    question: "Bagaimana sistem harga dan pembayaran?",
    answer: "Kami menggunakan sistem harga transparan tanpa biaya tersembunyi. Pembayaran dapat dilakukan via transfer bank, e-wallet, atau tunai. Untuk paket berlangganan, minimal pembayaran 3 bulan di awal. Kami juga menerima DP 50% untuk pesanan custom.",
    category: 'pricing'
  },
  {
    question: "Apakah ada minimal order untuk setiap produk?",
    answer: "Minimal order bervariasi per produk: Kartu nama (50 pcs), Brosur (100 pcs), Banner (1 lembar), Stiker (100 pcs), Kaos (10 pcs). Untuk pesanan di bawah minimal, akan ada penyesuaian harga. Konsultasikan dengan kami untuk kebutuhan khusus.",
    category: 'pricing'
  },
  {
    question: "Bagaimana kualitas hasil percetakan?",
    answer: "Kami menggunakan bahan berkualitas tinggi dan mesin cetak modern dengan resolusi hingga 600dpi. Semua produk melalui quality control ketat sebelum dikirim. Kami memberikan garansi kualitas 30 hari dan siap revisi jika ada cacat produksi.",
    category: 'quality'
  },
  {
    question: "Apakah bisa request design custom?",
    answer: "Tentu saja! Kami menerima design custom dari klien. Anda cukup kirim file design dalam format yang didukung (AI, PSD, PDF, JPG, PNG) dengan resolusi minimal 300dpi. Tim kami akan review dan beri feedback jika diperlukan perbaikan.",
    category: 'custom'
  },
  {
    question: "Format file apa saja yang didukung?",
    answer: "Kami menerima berbagai format file: Adobe Illustrator (.ai), Photoshop (.psd), CorelDRAW (.cdr), PDF, JPG, PNG, dan EPS. Pastikan file dalam mode CMYK, resolusi minimal 300dpi, dan bleed area 3mm untuk hasil cetak optimal.",
    category: 'custom'
  },
  {
    question: "Apakah ada layanan pengiriman ke seluruh Indonesia?",
    answer: "Ya, kami melayani pengiriman ke seluruh Indonesia melalui jasa ekspedisi terpercaya (JNE, TIKI, POS Indonesia). Biaya pengiriman ditanggung pemesan. Untuk area Surabaya dan Sidoarjo, tersedia layanan pickup dan delivery gratis.",
    category: 'general'
  },
  {
    question: "Bagaimana jika hasil cetak tidak sesuai ekspektasi?",
    answer: "Kami berkomitmen dengan kepuasan pelanggan. Jika ada kesalahan dari pihak kami, kami siap revisi gratis atau refund. Namun, untuk perubahan design dari sisi klien setelah proses produksi dimulai, akan dikenakan biaya revisi.",
    category: 'quality'
  },
  {
    question: "Apakah bisa cetak dengan bahan custom?",
    answer: "Ya, kami menyediakan berbagai pilihan bahan: kertas art paper, art carton, duplex, ivory, bahan sintetis, vinyl, dan masih banyak lagi. Bahkan kami bisa sourcing bahan custom sesuai kebutuhan spesifik Anda.",
    category: 'custom'
  },
  {
    question: "Berapa lama masa garansi produk cetak?",
    answer: "Semua produk cetak memiliki garansi 30 hari dari tanggal pengiriman. Garansi mencakup cacat produksi seperti: warna tidak sesuai, resolusi blur, atau kerusakan saat pengiriman. Untuk produk outdoor seperti banner, garansi tahan cuaca 6 bulan.",
    category: 'quality'
  }
];

const categories = [
  { key: 'general', label: 'Umum', icon: '‚ùì' },
  { key: 'pricing', label: 'Harga', icon: 'üí∞' },
  { key: 'quality', label: 'Kualitas', icon: '‚≠ê' },
  { key: 'timeline', label: 'Waktu', icon: '‚è∞' },
  { key: 'custom', label: 'Custom', icon: 'üé®' }
];
---

<section class="py-20 bg-white dark:bg-gray-900">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <ScrollReveal animation="fadeInUp" className="text-center mb-16">
      <div class="inline-flex items-center justify-center px-4 py-2 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 text-sm font-medium rounded-full mb-4">
        ‚ùì Pertanyaan Umum
      </div>
      <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
        FAQ Layanan Percetakan Kotacom
      </h2>
      <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
        Temukan jawaban atas pertanyaan paling sering ditanyakan tentang jasa percetakan kami
      </p>
    </ScrollReveal>

    <!-- Category Filter -->
    <ScrollReveal animation="fadeInUp" delay={200} className="flex flex-wrap justify-center gap-4 mb-12">
      {categories.map((category) => (
        <button
          class="category-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 border"
          data-category={category.key}
          onclick={`filterFAQ('${category.key}')`}
        >
          <span class="mr-2">{category.icon}</span>
          {category.label}
        </button>
      ))}
      <button
        class="category-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 border bg-blue-600 text-white border-blue-600"
        data-category="all"
        onclick="filterFAQ('all')"
      >
        <span class="mr-2">üìã</span>
        Semua
      </button>
    </ScrollReveal>

    <!-- FAQ Items -->
    <div class="space-y-4">
      {faqItems.map((faq, index) => (
        <ScrollReveal animation="fadeInUp" delay={300 + index * 50} className="faq-item" data-category={faq.category}>
          <div class="bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden">
            <button
              class="faq-button flex justify-between items-center p-6 w-full text-left font-medium text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"
              data-faq-id={`faq-${index}`}
            >
              <span class="text-lg pr-4">{faq.question}</span>
              <svg class="faq-icon w-6 h-6 text-gray-500 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div class={`faq-content hidden overflow-hidden transition-all duration-300`} id={`faq-${index}`}>
              <div class="p-6 pt-0 text-gray-700 dark:text-gray-300 leading-relaxed">
                {faq.answer}
              </div>
            </div>
          </div>
        </ScrollReveal>
      ))}
    </div>

    <!-- Contact CTA -->
    <ScrollReveal animation="fadeInUp" delay={800} className="text-center mt-16">
      <div class="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-2xl p-8 border border-gray-200 dark:border-gray-700">
        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
          Masih Ada Pertanyaan?
        </h3>
        <p class="text-gray-600 dark:text-gray-400 mb-6 max-w-2xl mx-auto">
          Tim customer service kami siap membantu Anda 24/7. Hubungi kami untuk konsultasi gratis dan penjelasan lebih detail tentang layanan percetakan.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="https://wa.me/6285799520350?text=Halo%20KOTACOM,%20saya%20punya%20pertanyaan%20tentang%20layanan%20percetakan."
            class="inline-flex items-center px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-xl transition-all duration-300 hover:shadow-lg transform hover:scale-105"
            target="_blank"
            rel="noopener"
          >
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
            </svg>
            WhatsApp Kami
          </a>
          <a
            href="tel:085799520350"
            class="inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-all duration-300 hover:shadow-lg transform hover:scale-105"
          >
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            Telepon Langsung
          </a>
        </div>
      </div>
    </ScrollReveal>
  </div>
</section>

<style>
  .category-filter {
    @apply bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 dark:hover:text-blue-400 hover:border-blue-300 dark:hover:border-blue-600;
  }

  .category-filter[data-active="true"] {
    @apply bg-blue-600 text-white border-blue-600;
  }
</style>

<script>
  // FAQ Accordion functionality
  document.addEventListener('DOMContentLoaded', function() {
    const faqButtons = document.querySelectorAll('.faq-button');

    faqButtons.forEach(button => {
      button.addEventListener('click', function() {
        const faqId = this.getAttribute('data-faq-id');
        const content = document.getElementById(faqId);
        const icon = this.querySelector('.faq-icon');

        // Close all other FAQs
        document.querySelectorAll('.faq-content').forEach(otherContent => {
          if (otherContent.id !== faqId && !otherContent.classList.contains('hidden')) {
            otherContent.classList.add('hidden');
            const otherButton = otherContent.previousElementSibling;
            const otherIcon = otherButton.querySelector('.faq-icon');
            otherIcon.classList.remove('rotate-180');
          }
        });

        // Toggle current FAQ
        if (content.classList.contains('hidden')) {
          content.classList.remove('hidden');
          icon.classList.add('rotate-180');
        } else {
          content.classList.add('hidden');
          icon.classList.remove('rotate-180');
        }
      });
    });
  });

  // Category filter functionality
  function filterFAQ(category) {
    const faqItems = document.querySelectorAll('.faq-item');
    const categoryButtons = document.querySelectorAll('.category-filter');

    // Update button states
    categoryButtons.forEach(button => {
      button.setAttribute('data-active', button.getAttribute('data-category') === category);
    });

    // Filter FAQ items
    faqItems.forEach(item => {
      if (category === 'all' || item.getAttribute('data-category') === category) {
        item.style.display = 'block';
      } else {
        item.style.display = 'none';
      }
    });
  }

  // Make filterFAQ globally available
  window.filterFAQ = filterFAQ;
</script>
