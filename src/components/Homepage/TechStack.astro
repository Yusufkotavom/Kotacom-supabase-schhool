---
export interface TechItem {
  name: string;
  icon: string;
  color: string;
  category: string;
}

const techStack: TechItem[] = [
  // Frontend Technologies
  { name: "React", icon: "‚öõÔ∏è", color: "from-blue-500 to-cyan-500", category: "Frontend" },
  { name: "Vue.js", icon: "üíö", color: "from-green-500 to-emerald-500", category: "Frontend" },
  { name: "Angular", icon: "üî¥", color: "from-red-500 to-pink-500", category: "Frontend" },
  { name: "Next.js", icon: "‚ö°", color: "from-gray-800 to-black", category: "Frontend" },
  { name: "Nuxt.js", icon: "üü¢", color: "from-green-600 to-emerald-600", category: "Frontend" },
  
  // Backend Technologies
  { name: "Node.js", icon: "üü¢", color: "from-green-600 to-green-800", category: "Backend" },
  { name: "Laravel", icon: "üî¥", color: "from-red-600 to-red-800", category: "Backend" },
  { name: "Python", icon: "üêç", color: "from-blue-600 to-indigo-600", category: "Backend" },
  { name: "PHP", icon: "üêò", color: "from-purple-600 to-indigo-600", category: "Backend" },
  { name: "Java", icon: "‚òï", color: "from-orange-600 to-red-600", category: "Backend" },
  
  // Database & Cloud
  { name: "MySQL", icon: "üê¨", color: "from-blue-600 to-cyan-600", category: "Database" },
  { name: "PostgreSQL", icon: "üêò", color: "from-blue-700 to-indigo-700", category: "Database" },
  { name: "MongoDB", icon: "üçÉ", color: "from-green-600 to-emerald-600", category: "Database" },
  { name: "AWS", icon: "‚òÅÔ∏è", color: "from-orange-500 to-yellow-500", category: "Cloud" },
  { name: "Google Cloud", icon: "‚òÅÔ∏è", color: "from-blue-500 to-indigo-500", category: "Cloud" },
  
  // Mobile & Tools
  { name: "React Native", icon: "üì±", color: "from-blue-500 to-cyan-500", category: "Mobile" },
  { name: "Flutter", icon: "ü¶ã", color: "from-blue-600 to-indigo-600", category: "Mobile" },
  { name: "Docker", icon: "üê≥", color: "from-blue-500 to-cyan-500", category: "DevOps" },
  { name: "Git", icon: "üìù", color: "from-orange-500 to-red-500", category: "DevOps" },
  { name: "Figma", icon: "üé®", color: "from-purple-500 to-pink-500", category: "Design" },
  
  // Additional Technologies
  { name: "TypeScript", icon: "üî∑", color: "from-blue-600 to-indigo-600", category: "Frontend" },
  { name: "Tailwind CSS", icon: "üé®", color: "from-cyan-500 to-blue-500", category: "Frontend" },
  { name: "GraphQL", icon: "üîÆ", color: "from-pink-500 to-purple-500", category: "Backend" },
  { name: "Redis", icon: "üî¥", color: "from-red-600 to-red-800", category: "Database" },
  { name: "Kubernetes", icon: "‚öì", color: "from-blue-600 to-indigo-600", category: "DevOps" }
];
---

<section class="py-12 bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 overflow-hidden">
  <div class="container mx-auto px-4">
    <!-- Section Header -->
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
        Tech Stack Kami
      </h2>
      <p class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
        Menggunakan teknologi terdepan untuk memberikan solusi digital yang berkualitas tinggi
      </p>
    </div>

    <!-- Horizontal Scrolling Tech Stack -->
    <div class="relative">
      <!-- Gradient Overlays for Smooth Edges -->
      <div class="absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-gray-50 dark:from-gray-900 to-transparent z-10 pointer-events-none"></div>
      <div class="absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-gray-50 dark:from-gray-900 to-transparent z-10 pointer-events-none"></div>
      
      <!-- Scrolling Container -->
      <div class="tech-stack-scroll flex gap-6 py-8 animate-scroll">
        {techStack.map((tech, index) => (
          <div 
            class="tech-item flex-shrink-0 group cursor-pointer transform transition-all duration-300 hover:scale-110 hover:-translate-y-2"
            data-category={tech.category}
          >
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-gray-700 min-w-[140px] text-center">
              <!-- Tech Icon -->
              <div class="text-4xl mb-3 group-hover:scale-110 transition-transform duration-300">
                {tech.icon}
              </div>
              
              <!-- Tech Name -->
              <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300">
                {tech.name}
              </h3>
              
              <!-- Category Badge -->
              <span class={`inline-block px-2 py-1 text-xs font-medium rounded-full bg-gradient-to-r ${tech.color} text-white opacity-80 group-hover:opacity-100 transition-opacity duration-300`}>
                {tech.category}
              </span>
            </div>
          </div>
        ))}
        
        <!-- Duplicate items for seamless loop -->
        {techStack.map((tech, index) => (
          <div 
            class="tech-item flex-shrink-0 group cursor-pointer transform transition-all duration-300 hover:scale-110 hover:-translate-y-2"
            data-category={tech.category}
          >
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-gray-700 min-w-[140px] text-center">
              <div class="text-4xl mb-3 group-hover:scale-110 transition-transform duration-300">
                {tech.icon}
              </div>
              <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors duration-300">
                {tech.name}
              </h3>
              <span class={`inline-block px-2 py-1 text-xs font-medium rounded-full bg-gradient-to-r ${tech.color} text-white opacity-80 group-hover:opacity-100 transition-opacity duration-300`}>
                {tech.category}
              </span>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Category Filter Buttons (Mobile) -->
    <div class="flex flex-wrap justify-center gap-3 mt-8 lg:hidden">
      <button 
        class="category-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 active"
        data-category="all"
      >
        Semua
      </button>
      <button 
        class="category-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-300"
        data-category="Frontend"
      >
        Frontend
      </button>
      <button 
        class="category-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-300"
        data-category="Backend"
      >
        Backend
      </button>
      <button 
        class="category-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-300"
        data-category="Mobile"
      >
        Mobile
      </button>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Category filtering functionality
    const categoryFilters = document.querySelectorAll('.category-filter');
    const techItems = document.querySelectorAll('.tech-item');
    
    categoryFilters.forEach(filter => {
      filter.addEventListener('click', () => {
        const category = filter.getAttribute('data-category');
        
        // Update active filter
        categoryFilters.forEach(f => f.classList.remove('active'));
        filter.classList.add('active');
        
        // Filter tech items
        techItems.forEach(item => {
          const itemCategory = item.getAttribute('data-category');
          if (category === 'all' || itemCategory === category) {
            item.style.display = 'block';
            item.style.animation = 'fadeIn 0.5s ease-in-out';
          } else {
            item.style.display = 'none';
          }
        });
      });
    });
    
    // Pause animation on hover for better UX
    const scrollContainer = document.querySelector('.tech-stack-scroll');
    if (scrollContainer) {
      scrollContainer.addEventListener('mouseenter', () => {
        scrollContainer.style.animationPlayState = 'paused';
      });
      
      scrollContainer.addEventListener('mouseleave', () => {
        scrollContainer.style.animationPlayState = 'running';
      });
    }
  });
</script>

<style>
  /* Horizontal scrolling animation */
  .tech-stack-scroll {
    animation: scroll 30s linear infinite;
  }
  
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  /* Fade in animation for filtered items */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Category filter button styles */
  .category-filter {
    background: #f3f4f6;
    color: #6b7280;
    border: 1px solid #e5e7eb;
  }
  
  .category-filter.active {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: white;
    border-color: #3b82f6;
    box-shadow: 0 4px 14px 0 rgba(59, 130, 246, 0.3);
  }
  
  .dark .category-filter {
    background: #374151;
    color: #9ca3af;
    border-color: #4b5563;
  }
  
  .dark .category-filter.active {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: white;
    border-color: #3b82f6;
  }
  
  /* Responsive adjustments */
  @media (max-width: 768px) {
    .tech-stack-scroll {
      animation-duration: 20s;
    }
    
    .tech-item {
      min-width: 120px;
    }
  }
  
  @media (max-width: 480px) {
    .tech-item {
      min-width: 100px;
    }
    
    .tech-item .text-4xl {
      font-size: 2rem;
    }
  }
  
  /* Smooth scrolling for touch devices */
  @media (hover: none) and (pointer: coarse) {
    .tech-stack-scroll {
      animation: none;
      overflow-x: auto;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }
  }
</style>